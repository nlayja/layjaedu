<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>S√∫per Lector - 100 Frases M√°gicas</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<!-- FUENTE TIPO MOLDE ESCOLAR -->
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Baloo+2:wght@600&display=swap" rel="stylesheet">

<style>
:root {
    --bg-color: #fdfbff;
    --main-color: #9c27b0;
    --soft-color: #f3e5f5;
    --vivid-green: #4caf50;
    --fluidez-blue: #03a9f4;
}

/* üî• CAMBIO DE TIPOGRAF√çA */
body {
    font-family: 'Patrick Hand', cursive;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background-color: var(--bg-color);
    overflow: hidden;
}

/* resto de tu CSS EXACTAMENTE igual */
.card {
    background: white;
    padding: 30px;
    border-radius: 50px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    text-align: center;
    width: 90%;
    max-width: 800px;
    border: 10px solid var(--main-color);
    position: relative;
    z-index: 10;
}

#sentence-container {
    font-size: 32px;
}

#word-display {
    font-size: 80px;
}

/* resto igual que tu versi√≥n original */
</style>
</head>
<body>

<!-- TU HTML ORIGINAL SIN CAMBIOS -->
<div id="overlay" onclick="iniciarConMotivacion()">
    <div class="texto-inicio">VAMOS A LEER JUNTOS</div>
    <p style="margin-top:20px; font-size:24px; color: white; font-weight: bold; z-index: 101;">Toca para comenzar la aventura</p>
</div>

<div class="card">
    <div class="star-counter" id="starBadge">‚≠ê <span id="stars">0</span></div>
    <div id="sentence-container"></div>
    <div id="word-display">üòä</div>
    <div class="controls">
        <button id="btnPlay" class="circle-btn btn-play" onclick="togglePlay()">‚ñ∂Ô∏è</button>
    </div>
    <div class="progress-text">Frase <span id="currentIdx">1</span> de 100</div>
</div>

<script>

/* üî• NUEVA FUNCI√ìN PARA SELECCIONAR VOZ MASCULINA */
function obtenerVozMasculina() {
    const voces = speechSynthesis.getVoices();
    
    // Buscar voz masculina en espa√±ol
    let voz = voces.find(v => 
        v.lang.includes("es") && 
        (v.name.toLowerCase().includes("male") ||
         v.name.toLowerCase().includes("jorge") ||
         v.name.toLowerCase().includes("carlos") ||
         v.name.toLowerCase().includes("diego"))
    );

    // Si no encuentra masculina, usar primera en espa√±ol
    if (!voz) {
        voz = voces.find(v => v.lang.includes("es"));
    }

    return voz;
}

let vozSeleccionada = null;

speechSynthesis.onvoiceschanged = () => {
    vozSeleccionada = obtenerVozMasculina();
};

/* üî• MODIFICACI√ìN SOLO EN HABLAR */
async function hablar(texto, velocidad, tono = 1) {
    return new Promise(resolve => {
        window.speechSynthesis.cancel();
        const m = new SpeechSynthesisUtterance(texto);
        m.lang = 'es-MX';
        m.rate = velocidad;
        m.pitch = 0.8; // m√°s grave (masculino)
        m.voice = vozSeleccionada;
        m.onend = resolve;
        window.speechSynthesis.speak(m);
    });
}

</script>

</body>
</html>
